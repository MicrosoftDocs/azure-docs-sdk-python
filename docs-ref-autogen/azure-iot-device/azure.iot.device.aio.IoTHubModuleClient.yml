### YamlMime:PythonClass
uid: azure.iot.device.aio.IoTHubModuleClient
name: IoTHubModuleClient
fullName: azure.iot.device.aio.IoTHubModuleClient
module: azure.iot.device.aio
inheritances:
- azure.iot.device.iothub.aio.async_clients.GenericIoTHubClient
- azure.iot.device.iothub.abstract_clients.AbstractIoTHubModuleClient
summary: 'An asynchronous module client that connects to an Azure IoT Hub or Azure
  IoT Edge instance.


  Intended for usage with Python 3.5.3+'
constructor:
  syntax: IoTHubModuleClient(mqtt_pipeline, http_pipeline)
methods:
- uid: azure.iot.device.aio.IoTHubModuleClient.connect
  name: connect
  summary: 'Connects the client to an Azure IoT Hub or Azure IoT Edge Hub instance.


    The destination is chosen based on the credentials passed via the auth_provider
    parameter

    that was provided when this object was initialized.'
  signature: connect()
- uid: azure.iot.device.aio.IoTHubModuleClient.create_from_connection_string
  name: create_from_connection_string
  summary: 'Instantiate the client from a IoTHub device or module connection string.



    broker. If no other messages are being exchanged, this controls the

    rate at which the client will send ping messages to the broker.

    If not provided default value of 60 secs will be used.'
  signature: create_from_connection_string(connection_string, **kwargs)
  parameters:
  - name: cls
    isRequired: true
  - name: connection_string
    isRequired: true
  return:
    description: An instance of an IoTHub client that uses a connection string for
      authentication.
- uid: azure.iot.device.aio.IoTHubModuleClient.create_from_edge_environment
  name: create_from_edge_environment
  summary: 'Instantiate the client from the IoT Edge environment.


    This method can only be run from inside an IoT Edge container, or in a debugging

    environment configured for Edge development (e.g. Visual Studio, Visual Studio
    Code)



    broker. If no other messages are being exchanged, this controls the

    rate at which the client will send ping messages to the broker.

    If not provided default value of 60 secs will be used.'
  signature: create_from_edge_environment(**kwargs)
  parameters:
  - name: cls
    isRequired: true
  return:
    description: 'An instance of an IoTHub client that uses the IoT Edge environment
      for

      authentication.'
- uid: azure.iot.device.aio.IoTHubModuleClient.create_from_x509_certificate
  name: create_from_x509_certificate
  summary: 'Instantiate a client which using X509 certificate authentication.



    broker. If no other messages are being exchanged, this controls the

    rate at which the client will send ping messages to the broker.

    If not provided default value of 60 secs will be used.'
  signature: create_from_x509_certificate(x509, hostname, device_id, module_id, **kwargs)
  parameters:
  - name: cls
    isRequired: true
  - name: x509
    isRequired: true
  - name: hostname
    isRequired: true
  - name: device_id
    isRequired: true
  - name: module_id
    isRequired: true
  return:
    description: An instance of an IoTHub client that uses an X509 certificate for
      authentication.
- uid: azure.iot.device.aio.IoTHubModuleClient.disconnect
  name: disconnect
  summary: 'Disconnect the client from the Azure IoT Hub or Azure IoT Edge Hub instance.


    It is recommended that you make sure to call this coroutine when you are completely
    done

    with the your client instance.'
  signature: disconnect()
- uid: azure.iot.device.aio.IoTHubModuleClient.get_twin
  name: get_twin
  summary: Gets the device or module twin from the Azure IoT Hub or Azure IoT Edge
    Hub service.
  signature: get_twin()
  return:
    description: Complete Twin as a JSON dict
    types:
    - <xref:dict>
- uid: azure.iot.device.aio.IoTHubModuleClient.invoke_method
  name: invoke_method
  summary: Invoke a method from your client onto a device or module client, and receive
    the response to the method call.
  signature: invoke_method(method_params, device_id, module_id=None)
  parameters:
  - name: method_params
    description: 'Should contain a methodName (str), payload (str),

      connectTimeoutInSeconds (int), responseTimeoutInSeconds (int).'
    isRequired: true
    types:
    - <xref:dict>
  - name: device_id
    description: Device ID of the target device where the method will be invoked.
    isRequired: true
    types:
    - <xref:str>
  - name: module_id
    description: Module ID of the target module where the method will be invoked.
      (Optional)
    defaultValue: None
    types:
    - <xref:str>
  return:
    description: method_result should contain a status, and a payload
    types:
    - <xref:dict>
- uid: azure.iot.device.aio.IoTHubModuleClient.patch_twin_reported_properties
  name: patch_twin_reported_properties
  summary: 'Update reported properties with the Azure IoT Hub or Azure IoT Edge Hub
    service.


    If the service returns an error on the patch operation, this function will raise
    the

    appropriate error.'
  signature: patch_twin_reported_properties(reported_properties_patch)
  parameters:
  - name: reported_properties_patch
    description: Twin Reported Properties patch as a JSON dict
    isRequired: true
    types:
    - <xref:dict>
  exceptions:
  - type: azure.iot.device.exceptions.CredentialError
  - type: azure.iot.device.exceptions.ConnectionFailedError
  - type: azure.iot.device.exceptions.ConnectionDroppedError
  - type: azure.iot.device.exceptions.ClientError
- uid: azure.iot.device.aio.IoTHubModuleClient.receive_message_on_input
  name: receive_message_on_input
  summary: 'Receive an input message that has been sent from another Module to a specific
    input.


    If no message is yet available, will wait until an item is available.


    Deprecated since version 2.3.0: We recommend that you use the .on_message_received
    property to set a handler instead'
  signature: receive_message_on_input(input_name)
  parameters:
  - name: input_name
    description: The input name to receive a message on.
    isRequired: true
    types:
    - <xref:str>
  return:
    description: Message that was sent to the specified input.
    types:
    - <xref:azure.iot.device.Message>
- uid: azure.iot.device.aio.IoTHubModuleClient.receive_method_request
  name: receive_method_request
  summary: 'Receive a method request via the Azure IoT Hub or Azure IoT Edge Hub.


    If no method request is yet available, will wait until it is available.


    Deprecated since version 2.3.0: We recommend that you use the .on_method_request_received
    property to set a handler instead'
  signature: receive_method_request(method_name=None)
  parameters:
  - name: method_name
    description: 'Optionally provide the name of the method to receive requests for.

      If this parameter is not given, all methods not already being specifically targeted
      by

      a different call to receive_method will be received.'
    defaultValue: None
    types:
    - <xref:str>
  return:
    description: MethodRequest object representing the received method request.
    types:
    - <xref:azure.iot.device.MethodRequest>
- uid: azure.iot.device.aio.IoTHubModuleClient.receive_twin_desired_properties_patch
  name: receive_twin_desired_properties_patch
  summary: 'Receive a desired property patch via the Azure IoT Hub or Azure IoT Edge
    Hub.


    If no method request is yet available, will wait until it is available.


    Deprecated since version 2.3.0: We recommend that you use the .on_twin_desired_properties_patch_received
    property to set a handler instead'
  signature: receive_twin_desired_properties_patch()
  return:
    description: Twin Desired Properties patch as a JSON dict
    types:
    - <xref:dict>
- uid: azure.iot.device.aio.IoTHubModuleClient.send_message
  name: send_message
  summary: 'Sends a message to the default events endpoint on the Azure IoT Hub or
    Azure IoT Edge Hub instance.


    If the connection to the service has not previously been opened by a call to connect,
    this

    function will open the connection before sending the event.'
  signature: send_message(message)
  parameters:
  - name: message
    description: 'The actual message to send. Anything passed that is not an instance
      of the

      Message class will be converted to Message object.'
    isRequired: true
    types:
    - <xref:azure.iot.device.Message>
    - <xref:str>
  exceptions:
  - type: azure.iot.device.exceptions.CredentialError
  - type: azure.iot.device.exceptions.ConnectionFailedError
  - type: azure.iot.device.exceptions.ConnectionDroppedError
  - type: azure.iot.device.exceptions.ClientError
- uid: azure.iot.device.aio.IoTHubModuleClient.send_message_to_output
  name: send_message_to_output
  summary: 'Sends an event/message to the given module output.


    These are outgoing events and are meant to be "output events"


    If the connection to the service has not previously been opened by a call to connect,
    this

    function will open the connection before sending the event.'
  signature: send_message_to_output(message, output_name)
  parameters:
  - name: message
    description: 'Message to send to the given output. Anything passed that is not
      an

      instance of the Message class will be converted to Message object.'
    isRequired: true
    types:
    - <xref:azure.iot.device.Message>
    - <xref:str>
  - name: output_name
    description: Name of the output to send the event to.
    isRequired: true
    types:
    - <xref:str>
  exceptions:
  - type: azure.iot.device.exceptions.CredentialError
  - type: azure.iot.device.exceptions.ConnectionFailedError
  - type: azure.iot.device.exceptions.ConnectionDroppedError
  - type: azure.iot.device.exceptions.ClientError
- uid: azure.iot.device.aio.IoTHubModuleClient.send_method_response
  name: send_method_response
  summary: 'Send a response to a method request via the Azure IoT Hub or Azure IoT
    Edge Hub.


    If the connection to the service has not previously been opened by a call to connect,
    this

    function will open the connection before sending the event.'
  signature: send_method_response(method_response)
  parameters:
  - name: method_response
    description: The MethodResponse to send
    isRequired: true
    types:
    - <xref:azure.iot.device.MethodResponse>
  exceptions:
  - type: azure.iot.device.exceptions.CredentialError
  - type: azure.iot.device.exceptions.ConnectionFailedError
  - type: azure.iot.device.exceptions.ConnectionDroppedError
  - type: azure.iot.device.exceptions.ClientError
attributes:
- uid: azure.iot.device.aio.IoTHubModuleClient.on_message_received
  name: on_message_received
  summary: 'The handler function or coroutine that will be called when an input message
    is received.


    The function definitionor coroutine should take one positional argument (the

    <xref:azure.iot.device.Message> object)'

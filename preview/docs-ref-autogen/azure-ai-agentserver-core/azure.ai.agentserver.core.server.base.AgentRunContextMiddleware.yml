### YamlMime:PythonClass
uid: azure.ai.agentserver.core.server.base.AgentRunContextMiddleware
name: AgentRunContextMiddleware
fullName: azure.ai.agentserver.core.server.base.AgentRunContextMiddleware
module: azure.ai.agentserver.core.server.base
constructor:
  syntax: 'AgentRunContextMiddleware(app: Callable[[MutableMapping[str, Any], Callable[[],
    Awaitable[MutableMapping[str, Any]]], Callable[[MutableMapping[str, Any]], Awaitable[None]]],
    Awaitable[None]])'
  parameters:
  - name: app
    isRequired: true
methods:
- uid: azure.ai.agentserver.core.server.base.AgentRunContextMiddleware.dispatch
  name: dispatch
  signature: 'async dispatch(request: Request, call_next)'
  parameters:
  - name: request
    isRequired: true
  - name: call_next
    isRequired: true
- uid: azure.ai.agentserver.core.server.base.AgentRunContextMiddleware.set_request_id_to_context_var
  name: set_request_id_to_context_var
  signature: set_request_id_to_context_var(request)
  parameters:
  - name: request
    isRequired: true
- uid: azure.ai.agentserver.core.server.base.AgentRunContextMiddleware.set_run_context_to_context_var
  name: set_run_context_to_context_var
  signature: set_run_context_to_context_var(run_context)
  parameters:
  - name: run_context
    isRequired: true

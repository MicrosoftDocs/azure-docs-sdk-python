### YamlMime:PythonModule
uid: azure.ai.agentserver.agentframework.models.utils.async_iter
name: async_iter
fullName: azure.ai.agentserver.agentframework.models.utils.async_iter
functions:
- uid: azure.ai.agentserver.agentframework.models.utils.async_iter.chunk_by_key
  name: chunk_by_key
  summary: Chunks the async iterable into groups based on a key selector.
  signature: 'async chunk_by_key(source: AsyncIterable[TSource], key_selector: Callable[[TSource],
    TKey], key_equal: Callable[[TKey, TKey], bool] | None = None) -> AsyncIterator[AsyncIterable[TSource]]'
  parameters:
  - name: source
    description: Async iterable of items.
    isRequired: true
    types:
    - <xref:typing.AsyncIterable>[<xref:TSource>]
  - name: key_selector
    description: Function mapping item -> key.
    isRequired: true
    types:
    - <xref:typing.Callable>[[<xref:TSource>], <xref:TKey>]
  - name: key_equal
    description: Optional equality function for keys. Defaults to '=='.
    defaultValue: None
    types:
    - <xref:typing.Optional>[<xref:typing.Callable>[[<xref:TKey>, <xref:TKey>], <xref:bool>]]
  return:
    description: An async iterator of async iterables (chunks).
    types:
    - <xref:typing.AsyncIterator>[<xref:typing.AsyncIterable>[<xref:TSource>]]
- uid: azure.ai.agentserver.agentframework.models.utils.async_iter.chunk_on_change
  name: chunk_on_change
  summary: Chunks an async iterable into groups based on when consecutive elements
    change.
  signature: 'async chunk_on_change(source: AsyncIterable[TSource], is_changed: Callable[[TSource
    | None, TSource | None], bool] | None = None) -> AsyncIterator[AsyncIterable[TSource]]'
  parameters:
  - name: source
    description: Async iterable of items.
    isRequired: true
    types:
    - <xref:typing.AsyncIterable>[<xref:TSource>]
  - name: is_changed
    description: 'Function(prev, current) -> bool indicating if value changed.

      If None, uses != by default.'
    defaultValue: None
    types:
    - <xref:typing.Optional>[<xref:typing.Callable>[[<xref:typing.Optional>[<xref:TSource>],
      <xref:typing.Optional>[<xref:TSource>]], <xref:bool>]]
  return:
    description: An async iterator of async iterables (chunks).
    types:
    - <xref:typing.AsyncIterator>[<xref:typing.AsyncIterable>[<xref:TSource>]]
- uid: azure.ai.agentserver.agentframework.models.utils.async_iter.peek
  name: peek
  summary: Peeks at the first element of an async iterable without consuming it.
  signature: 'async peek(source: AsyncIterable[T]) -> Tuple[bool, T | None, AsyncIterable[T]]'
  parameters:
  - name: source
    description: Async iterable.
    isRequired: true
    types:
    - <xref:typing.AsyncIterable>[<xref:T>]
  return:
    description: (has_value, first, full_sequence_including_first)
    types:
    - <xref:typing.Tuple>[<xref:bool>, <xref:typing.Optional>[<xref:T>], <xref:typing.AsyncIterable>[<xref:T>]]

### YamlMime:PythonClass
uid: azure.ai.agentserver.agentframework.persistence.agent_thread_repository.JsonLocalFileAgentThreadRepository
name: JsonLocalFileAgentThreadRepository
fullName: azure.ai.agentserver.agentframework.persistence.agent_thread_repository.JsonLocalFileAgentThreadRepository
module: azure.ai.agentserver.agentframework.persistence.agent_thread_repository
summary: Json based implementation of AgentThreadRepository using local file storage.
constructor:
  syntax: 'JsonLocalFileAgentThreadRepository(agent: AgentProtocol, storage_path:
    str)'
  parameters:
  - name: agent
    isRequired: true
  - name: storage_path
    isRequired: true
methods:
- uid: azure.ai.agentserver.agentframework.persistence.agent_thread_repository.JsonLocalFileAgentThreadRepository.get
  name: get
  summary: Retrieve the saved thread for a given conversation ID.
  signature: 'async get(conversation_id: str, agent: AgentProtocol | WorkflowAgent
    | None = None) -> AgentThread | None'
  parameters:
  - name: conversation_id
    description: The conversation ID.
    isRequired: true
    types:
    - <xref:str>
  - name: agent
    description: 'The agent instance. If provided, it can be used to deserialize the
      thread.

      Otherwise, the repository''s agent will be used.'
    defaultValue: None
    types:
    - <xref:typing.Optional>[<xref:typing.Union>[<xref:AgentProtocol>, <xref:WorkflowAgent>]]
  return:
    description: The saved AgentThread if available, None otherwise.
    types:
    - <xref:typing.Optional>[<xref:AgentThread>]
- uid: azure.ai.agentserver.agentframework.persistence.agent_thread_repository.JsonLocalFileAgentThreadRepository.read_from_storage
  name: read_from_storage
  signature: 'async read_from_storage(conversation_id: str) -> Any | None'
  parameters:
  - name: conversation_id
    isRequired: true
- uid: azure.ai.agentserver.agentframework.persistence.agent_thread_repository.JsonLocalFileAgentThreadRepository.set
  name: set
  summary: Save the thread for a given conversation ID.
  signature: 'async set(conversation_id: str, thread: AgentThread) -> None'
  parameters:
  - name: conversation_id
    description: The conversation ID.
    isRequired: true
    types:
    - <xref:str>
  - name: thread
    description: The thread to save.
    isRequired: true
    types:
    - <xref:AgentThread>
- uid: azure.ai.agentserver.agentframework.persistence.agent_thread_repository.JsonLocalFileAgentThreadRepository.write_to_storage
  name: write_to_storage
  signature: 'async write_to_storage(conversation_id: str, serialized_thread: Any)
    -> None'
  parameters:
  - name: conversation_id
    isRequired: true
  - name: serialized_thread
    isRequired: true

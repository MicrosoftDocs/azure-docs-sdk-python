### YamlMime:PythonClass
uid: azure.mgmt.sql.models.ManagedInstance
name: ManagedInstance
fullName: azure.mgmt.sql.models.ManagedInstance
module: azure.mgmt.sql.models
inheritances:
- azure.mgmt.sql.models._models_py3.TrackedResource
summary: 'An Azure SQL managed instance.


  Variables are only populated by the server, and will be ignored when sending a request.


  All required parameters must be populated in order to send to Azure.'
constructor:
  syntax: 'ManagedInstance(*, location: str, tags: Dict[str, str] | None = None, identity:
    _models.ResourceIdentity | None = None, sku: _models.Sku | None = None, managed_instance_create_mode:
    str | _models.ManagedServerCreateMode | None = None, is_general_purpose_v2: bool
    | None = None, administrator_login: str | None = None, administrator_login_password:
    str | None = None, subnet_id: str | None = None, license_type: str | _models.ManagedInstanceLicenseType
    | None = None, hybrid_secondary_usage: str | _models.HybridSecondaryUsage | None
    = None, v_cores: int | None = None, storage_size_in_gb: int | None = None, storage_i_ops:
    int | None = None, storage_throughput_m_bps: int | None = None, collation: str
    | None = None, dns_zone_partner: str | None = None, public_data_endpoint_enabled:
    bool | None = None, source_managed_instance_id: str | None = None, restore_point_in_time:
    datetime | None = None, proxy_override: str | _models.ManagedInstanceProxyOverride
    | None = None, timezone_id: str | None = None, instance_pool_id: str | None =
    None, maintenance_configuration_id: str | None = None, minimal_tls_version: str
    | None = None, requested_backup_storage_redundancy: str | _models.BackupStorageRedundancy
    | None = None, zone_redundant: bool | None = None, primary_user_assigned_identity_id:
    str | None = None, key_id: str | None = None, administrators: _models.ManagedInstanceExternalAdministrator
    | None = None, service_principal: _models.ServicePrincipal | None = None, pricing_model:
    str | _models.FreemiumType | None = None, authentication_metadata: str | _models.AuthMetadataLookupModes
    | None = None, database_format: str | _models.ManagedInstanceDatabaseFormat |
    None = None, **kwargs: Any)'
  parameters:
  - name: location
    description: Resource location. Required.
    types:
    - <xref:str>
  - name: tags
    description: Resource tags.
    types:
    - <xref:dict>[<xref:str>, <xref:str>]
  - name: identity
    description: The Azure Active Directory identity of the managed instance.
    types:
    - <xref:azure.mgmt.sql.models.ResourceIdentity>
  - name: sku
    description: 'Managed instance SKU. Allowed values for sku.name: GP_Gen5, GP_G8IM,
      GP_G8IH,

      BC_Gen5, BC_G8IM, BC_G8IH.'
    types:
    - <xref:azure.mgmt.sql.models.Sku>
  - name: managed_instance_create_mode
    description: 'Specifies the mode of database creation.


      Default: Regular instance creation.


      Restore: Creates an instance by restoring a set of backups to specific point
      in time.

      RestorePointInTime and SourceManagedInstanceId must be specified. Known values
      are: "Default"

      and "PointInTimeRestore".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.ManagedServerCreateMode>
  - name: is_general_purpose_v2
    description: 'Whether or not this is a GPv2 variant of General Purpose

      edition.'
    types:
    - <xref:bool>
  - name: administrator_login
    description: 'Administrator username for the managed instance. Can only be

      specified when the managed instance is being created (and is required for creation).'
    types:
    - <xref:str>
  - name: administrator_login_password
    description: 'The administrator login password (required for managed

      instance creation).'
    types:
    - <xref:str>
  - name: subnet_id
    description: Subnet resource ID for the managed instance.
    types:
    - <xref:str>
  - name: license_type
    description: 'The license type. Possible values are ''LicenseIncluded'' (regular
      price

      inclusive of a new SQL license) and ''BasePrice'' (discounted AHB price for
      bringing your own SQL

      licenses). Known values are: "LicenseIncluded" and "BasePrice".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.ManagedInstanceLicenseType>
  - name: hybrid_secondary_usage
    description: 'Hybrid secondary usage. Possible values are ''Active'' (default

      value) and ''Passive'' (customer uses the secondary as Passive DR). Known values
      are: "Active"

      and "Passive".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.HybridSecondaryUsage>
  - name: v_cores
    description: 'The number of vCores. Allowed values: 8, 16, 24, 32, 40, 64, 80.'
    types:
    - <xref:int>
  - name: storage_size_in_gb
    description: 'Storage size in GB. Minimum value: 32. Maximum value: 16384.

      Increments of 32 GB allowed only. Maximum value depends on the selected hardware
      family and

      number of vCores.'
    types:
    - <xref:int>
  - name: storage_i_ops
    description: 'Storage IOps. Minimum value: 120. Maximum value: 120000. Increments
      of

      1 IOps allowed only. Maximum value depends on the selected hardware family and
      number of

      vCores.'
    types:
    - <xref:int>
  - name: storage_throughput_m_bps
    description: 'Storage throughput in MBps. Minimum value: 25. Maximum

      value: 4000. Increments of 1 MBps allowed only. Maximum value depends on the
      selected hardware

      family and number of vCores.'
    types:
    - <xref:int>
  - name: collation
    description: Collation of the managed instance.
    types:
    - <xref:str>
  - name: dns_zone_partner
    description: 'The resource id of another managed instance whose DNS zone this

      managed instance will share after creation.'
    types:
    - <xref:str>
  - name: public_data_endpoint_enabled
    description: Whether or not the public data endpoint is enabled.
    types:
    - <xref:bool>
  - name: source_managed_instance_id
    description: 'The resource identifier of the source managed instance

      associated with create operation of this instance.'
    types:
    - <xref:str>
  - name: restore_point_in_time
    description: 'Specifies the point in time (ISO8601 format) of the source

      database that will be restored to create the new database.'
    types:
    - <xref:datetime.datetime>
  - name: proxy_override
    description: 'Connection type used for connecting to the instance. Known values
      are:

      "Proxy", "Redirect", and "Default".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.ManagedInstanceProxyOverride>
  - name: timezone_id
    description: 'Id of the timezone. Allowed values are timezones supported by Windows.

      Windows keeps details on supported timezones, including the id, in registry
      under

      KEY_LOCAL_MACHINESOFTWAREMicrosoftWindows NTCurrentVersionTime Zones.

      You can get those registry values via SQL Server by querying SELECT name AS
      timezone_id FROM

      sys.time_zone_info.

      List of Ids can also be obtained by executing [System.TimeZoneInfo]::GetSystemTimeZones()
      in

      PowerShell.

      An example of valid timezone id is "Pacific Standard Time" or "W. Europe Standard
      Time".'
    types:
    - <xref:str>
  - name: instance_pool_id
    description: The Id of the instance pool this managed server belongs to.
    types:
    - <xref:str>
  - name: maintenance_configuration_id
    description: 'Specifies maintenance configuration id to apply to this

      managed instance.'
    types:
    - <xref:str>
  - name: minimal_tls_version
    description: 'Minimal TLS version. Allowed values: ''None'', ''1.0'', ''1.1'',
      ''1.2''.'
    types:
    - <xref:str>
  - name: requested_backup_storage_redundancy
    description: 'The storage account type to be used to store

      backups for this instance. The options are Local (LocallyRedundantStorage),
      Zone

      (ZoneRedundantStorage), Geo (GeoRedundantStorage) and GeoZone(GeoZoneRedundantStorage).
      Known

      values are: "Geo", "Local", "Zone", and "GeoZone".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.BackupStorageRedundancy>
  - name: zone_redundant
    description: Whether or not the multi-az is enabled.
    types:
    - <xref:bool>
  - name: primary_user_assigned_identity_id
    description: 'The resource id of a user assigned identity to be

      used by default.'
    types:
    - <xref:str>
  - name: key_id
    description: A CMK URI of the key to use for encryption.
    types:
    - <xref:str>
  - name: administrators
    description: 'The Azure Active Directory administrator of the instance. This can

      only be used at instance create time. If used for instance update, it will be
      ignored or it

      will result in an error. For updates individual APIs will need to be used.'
    types:
    - <xref:azure.mgmt.sql.models.ManagedInstanceExternalAdministrator>
  - name: service_principal
    description: The managed instance's service principal.
    types:
    - <xref:azure.mgmt.sql.models.ServicePrincipal>
  - name: pricing_model
    description: 'Weather or not Managed Instance is freemium. Known values are:

      "Regular" and "Freemium".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.FreemiumType>
  - name: authentication_metadata
    description: 'The managed instance''s authentication metadata lookup mode.

      Known values are: "AzureAD", "Paired", and "Windows".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.AuthMetadataLookupModes>
  - name: database_format
    description: 'Specifies the internal format of instance databases specific to
      the

      SQL engine version. Known values are: "AlwaysUpToDate" and "SQLServer2022".'
    types:
    - <xref:str>
    - <xref:azure.mgmt.sql.models.ManagedInstanceDatabaseFormat>
variables:
- description: Resource ID.
  name: id
  types:
  - <xref:str>
- description: Resource name.
  name: name
  types:
  - <xref:str>
- description: Resource type.
  name: type
  types:
  - <xref:str>
- description: Resource location. Required.
  name: location
  types:
  - <xref:str>
- description: Resource tags.
  name: tags
  types:
  - <xref:dict>[<xref:str>, <xref:str>]
- description: The Azure Active Directory identity of the managed instance.
  name: identity
  types:
  - <xref:azure.mgmt.sql.models.ResourceIdentity>
- description: 'Managed instance SKU. Allowed values for sku.name: GP_Gen5, GP_G8IM,
    GP_G8IH,

    BC_Gen5, BC_G8IM, BC_G8IH.'
  name: sku
  types:
  - <xref:azure.mgmt.sql.models.Sku>
- description: 'Provisioning state of managed instance. Known values are: "Created",

    "InProgress", "Succeeded", "Failed", and "Canceled".'
  name: provisioning_state
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.ProvisioningState>
- description: 'Specifies the mode of database creation.


    Default: Regular instance creation.


    Restore: Creates an instance by restoring a set of backups to specific point in
    time.

    RestorePointInTime and SourceManagedInstanceId must be specified. Known values
    are: "Default"

    and "PointInTimeRestore".'
  name: managed_instance_create_mode
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.ManagedServerCreateMode>
- description: The fully qualified domain name of the managed instance.
  name: fully_qualified_domain_name
  types:
  - <xref:str>
- description: Whether or not this is a GPv2 variant of General Purpose edition.
  name: is_general_purpose_v2
  types:
  - <xref:bool>
- description: 'Administrator username for the managed instance. Can only be

    specified when the managed instance is being created (and is required for creation).'
  name: administrator_login
  types:
  - <xref:str>
- description: 'The administrator login password (required for managed

    instance creation).'
  name: administrator_login_password
  types:
  - <xref:str>
- description: Subnet resource ID for the managed instance.
  name: subnet_id
  types:
  - <xref:str>
- description: The state of the managed instance.
  name: state
  types:
  - <xref:str>
- description: 'The license type. Possible values are ''LicenseIncluded'' (regular
    price

    inclusive of a new SQL license) and ''BasePrice'' (discounted AHB price for bringing
    your own SQL

    licenses). Known values are: "LicenseIncluded" and "BasePrice".'
  name: license_type
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.ManagedInstanceLicenseType>
- description: 'Hybrid secondary usage. Possible values are ''Active'' (default

    value) and ''Passive'' (customer uses the secondary as Passive DR). Known values
    are: "Active"

    and "Passive".'
  name: hybrid_secondary_usage
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.HybridSecondaryUsage>
- description: 'Hybrid secondary usage detected. Possible values are

    ''Active'' (customer does not meet the requirements to use the secondary as Passive
    DR) and

    ''Passive'' (customer meets the requirements to use the secondary as Passive DR).
    Known values

    are: "Active" and "Passive".'
  name: hybrid_secondary_usage_detected
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.HybridSecondaryUsageDetected>
- description: 'The number of vCores. Allowed values: 8, 16, 24, 32, 40, 64, 80.'
  name: v_cores
  types:
  - <xref:int>
- description: 'Storage size in GB. Minimum value: 32. Maximum value: 16384.

    Increments of 32 GB allowed only. Maximum value depends on the selected hardware
    family and

    number of vCores.'
  name: storage_size_in_gb
  types:
  - <xref:int>
- description: 'Storage IOps. Minimum value: 120. Maximum value: 120000. Increments
    of 1

    IOps allowed only. Maximum value depends on the selected hardware family and number
    of vCores.'
  name: storage_i_ops
  types:
  - <xref:int>
- description: 'Storage throughput in MBps. Minimum value: 25. Maximum value:

    4000. Increments of 1 MBps allowed only. Maximum value depends on the selected
    hardware family

    and number of vCores.'
  name: storage_throughput_m_bps
  types:
  - <xref:int>
- description: Collation of the managed instance.
  name: collation
  types:
  - <xref:str>
- description: The Dns Zone that the managed instance is in.
  name: dns_zone
  types:
  - <xref:str>
- description: 'The resource id of another managed instance whose DNS zone this managed

    instance will share after creation.'
  name: dns_zone_partner
  types:
  - <xref:str>
- description: Whether or not the public data endpoint is enabled.
  name: public_data_endpoint_enabled
  types:
  - <xref:bool>
- description: 'The resource identifier of the source managed instance

    associated with create operation of this instance.'
  name: source_managed_instance_id
  types:
  - <xref:str>
- description: 'Specifies the point in time (ISO8601 format) of the source

    database that will be restored to create the new database.'
  name: restore_point_in_time
  types:
  - <xref:datetime.datetime>
- description: 'Connection type used for connecting to the instance. Known values
    are:

    "Proxy", "Redirect", and "Default".'
  name: proxy_override
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.ManagedInstanceProxyOverride>
- description: 'Id of the timezone. Allowed values are timezones supported by Windows.

    Windows keeps details on supported timezones, including the id, in registry under

    KEY_LOCAL_MACHINESOFTWAREMicrosoftWindows NTCurrentVersionTime Zones.

    You can get those registry values via SQL Server by querying SELECT name AS timezone_id
    FROM

    sys.time_zone_info.

    List of Ids can also be obtained by executing [System.TimeZoneInfo]::GetSystemTimeZones()
    in

    PowerShell.

    An example of valid timezone id is "Pacific Standard Time" or "W. Europe Standard
    Time".'
  name: timezone_id
  types:
  - <xref:str>
- description: The Id of the instance pool this managed server belongs to.
  name: instance_pool_id
  types:
  - <xref:str>
- description: 'Specifies maintenance configuration id to apply to this

    managed instance.'
  name: maintenance_configuration_id
  types:
  - <xref:str>
- description: List of private endpoint connections on a managed instance.
  name: private_endpoint_connections
  types:
  - <xref:list>[<xref:azure.mgmt.sql.models.ManagedInstancePecProperty>]
- description: 'Minimal TLS version. Allowed values: ''None'', ''1.0'', ''1.1'', ''1.2''.'
  name: minimal_tls_version
  types:
  - <xref:str>
- description: 'The storage account type used to store backups for

    this instance. The options are Local (LocallyRedundantStorage), Zone (ZoneRedundantStorage),

    Geo (GeoRedundantStorage) and GeoZone(GeoZoneRedundantStorage). Known values are:
    "Geo",

    "Local", "Zone", and "GeoZone".'
  name: current_backup_storage_redundancy
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.BackupStorageRedundancy>
- description: 'The storage account type to be used to store backups

    for this instance. The options are Local (LocallyRedundantStorage), Zone

    (ZoneRedundantStorage), Geo (GeoRedundantStorage) and GeoZone(GeoZoneRedundantStorage).
    Known

    values are: "Geo", "Local", "Zone", and "GeoZone".'
  name: requested_backup_storage_redundancy
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.BackupStorageRedundancy>
- description: Whether or not the multi-az is enabled.
  name: zone_redundant
  types:
  - <xref:bool>
- description: 'The resource id of a user assigned identity to be used

    by default.'
  name: primary_user_assigned_identity_id
  types:
  - <xref:str>
- description: A CMK URI of the key to use for encryption.
  name: key_id
  types:
  - <xref:str>
- description: 'The Azure Active Directory administrator of the instance. This can
    only

    be used at instance create time. If used for instance update, it will be ignored
    or it will

    result in an error. For updates individual APIs will need to be used.'
  name: administrators
  types:
  - <xref:azure.mgmt.sql.models.ManagedInstanceExternalAdministrator>
- description: The managed instance's service principal.
  name: service_principal
  types:
  - <xref:azure.mgmt.sql.models.ServicePrincipal>
- description: Virtual cluster resource id for the Managed Instance.
  name: virtual_cluster_id
  types:
  - <xref:str>
- description: 'Status of external governance. Known values are: "Enabled"

    and "Disabled".'
  name: external_governance_status
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.ExternalGovernanceStatus>
- description: 'Weather or not Managed Instance is freemium. Known values are: "Regular"

    and "Freemium".'
  name: pricing_model
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.FreemiumType>
- description: 'Specifies the point in time (ISO8601 format) of the Managed Instance

    creation.'
  name: create_time
  types:
  - <xref:datetime.datetime>
- description: 'The managed instance''s authentication metadata lookup mode.

    Known values are: "AzureAD", "Paired", and "Windows".'
  name: authentication_metadata
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.AuthMetadataLookupModes>
- description: 'Specifies the internal format of instance databases specific to the
    SQL

    engine version. Known values are: "AlwaysUpToDate" and "SQLServer2022".'
  name: database_format
  types:
  - <xref:str>
  - <xref:azure.mgmt.sql.models.ManagedInstanceDatabaseFormat>

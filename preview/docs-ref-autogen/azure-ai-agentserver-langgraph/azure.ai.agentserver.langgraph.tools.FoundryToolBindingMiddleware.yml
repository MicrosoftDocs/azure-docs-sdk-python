### YamlMime:PythonClass
uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware
name: FoundryToolBindingMiddleware
fullName: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware
module: azure.ai.agentserver.langgraph.tools
summary: Middleware that binds foundry tools to tool calls in the agent.
constructor:
  syntax: 'FoundryToolBindingMiddleware(foundry_tools: List[Dict[str, Any] | FoundryTool])'
  parameters:
  - name: foundry_tools
    description: A list of foundry tools to bind.
    isRequired: true
    types:
    - <xref:typing.List>[<xref:FoundryToolLike>]
methods:
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.aafter_agent
  name: aafter_agent
  summary: Async logic to run after the agent execution completes.
  signature: 'async aafter_agent(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply after agent execution.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.aafter_model
  name: aafter_model
  summary: Async logic to run after the model is called.
  signature: 'async aafter_model(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply after model call.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.abefore_agent
  name: abefore_agent
  summary: Async logic to run before the agent execution starts.
  signature: 'async abefore_agent(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply before agent execution.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.abefore_model
  name: abefore_model
  summary: Async logic to run before the model is called.
  signature: 'async abefore_model(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply before model call.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.after_agent
  name: after_agent
  summary: Logic to run after the agent execution completes.
  signature: 'after_agent(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply after agent execution.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.after_model
  name: after_model
  summary: Logic to run after the model is called.
  signature: 'after_model(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply after model call.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.awrap_model_call
  name: awrap_model_call
  summary: Asynchronously wrap the model call to use a FoundryToolBindingChatModel.
  signature: 'async awrap_model_call(request: ModelRequest, handler: Callable[[ModelRequest],
    Awaitable[ModelResponse]]) -> ModelResponse | AIMessage'
  parameters:
  - name: request
    description: The model request.
    isRequired: true
    types:
    - <xref:ModelRequest>
  - name: handler
    description: The model call handler.
    isRequired: true
    types:
    - <xref:typing.Callable>[[<xref:ModelRequest>], <xref:typing.Awaitable>[<xref:ModelResponse>]]
  return:
    description: The model call result.
    types:
    - <xref:ModelCallResult>
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.awrap_tool_call
  name: awrap_tool_call
  summary: Asynchronously wrap the tool call to use FoundryToolCallWrapper.
  signature: 'async awrap_tool_call(request: ToolCallRequest, handler: Callable[[ToolCallRequest],
    Awaitable[ToolMessage | Command]]) -> ToolMessage | Command'
  parameters:
  - name: request
    description: The tool call request.
    isRequired: true
    types:
    - <xref:ToolCallRequest>
  - name: handler
    description: The tool call handler.
    isRequired: true
    types:
    - <xref:typing.Callable>[[<xref:ToolCallRequest>], <xref:typing.Awaitable>[<xref:ToolMessage>
      | <xref:Command>]]
  return:
    description: The tool call result.
    types:
    - <xref:ToolMessage> | <xref:Command>
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.before_agent
  name: before_agent
  summary: Logic to run before the agent execution starts.
  signature: 'before_agent(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply before agent execution.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.before_model
  name: before_model
  summary: Logic to run before the model is called.
  signature: 'before_model(state: StateT, runtime: Runtime[ContextT]) -> dict[str,
    Any] | None'
  parameters:
  - name: state
    description: The current agent state.
    isRequired: true
  - name: runtime
    description: The runtime context.
    isRequired: true
  return:
    description: Agent state updates to apply before model call.
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.wrap_model_call
  name: wrap_model_call
  summary: Wrap the model call to use a FoundryToolBindingChatModel.
  signature: 'wrap_model_call(request: ModelRequest, handler: Callable[[ModelRequest],
    ModelResponse]) -> ModelResponse | AIMessage'
  parameters:
  - name: request
    description: The model request.
    isRequired: true
    types:
    - <xref:ModelRequest>
  - name: handler
    description: The model call handler.
    isRequired: true
    types:
    - <xref:typing.Callable>[[<xref:ModelRequest>], <xref:ModelResponse>]
  return:
    description: The model call result.
    types:
    - <xref:ModelCallResult>
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.wrap_tool_call
  name: wrap_tool_call
  summary: Wrap the tool call to use FoundryToolCallWrapper.
  signature: 'wrap_tool_call(request: ToolCallRequest, handler: Callable[[ToolCallRequest],
    ToolMessage | Command]) -> ToolMessage | Command'
  parameters:
  - name: request
    description: The tool call request.
    isRequired: true
    types:
    - <xref:ToolCallRequest>
  - name: handler
    description: The tool call handler.
    isRequired: true
    types:
    - <xref:typing.Callable>[[<xref:ToolCallRequest>], <xref:ToolMessage> | <xref:Command>]
  return:
    description: The tool call result.
    types:
    - <xref:ToolMessage> | <xref:Command>
attributes:
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.name
  name: name
  summary: 'The name of the middleware instance.


    Defaults to the class name, but can be overridden for custom naming.'
- uid: azure.ai.agentserver.langgraph.tools.FoundryToolBindingMiddleware.tools
  name: tools
  summary: Additional tools registered by the middleware.
  signature: 'tools: Sequence[BaseTool]'
